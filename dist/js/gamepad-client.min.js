!function e(t,r,n){function o(c,s){if(!r[c]){if(!t[c]){var i="function"==typeof require&&require;if(!s&&i)return i(c,!0);if(a)return a(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var d=r[c]={exports:{}};t[c][0].call(d.exports,function(e){var r=t[c][1][e];return o(r?r:e)},d,d.exports,e,t,r,n)}return r[c].exports}for(var a="function"==typeof require&&require,c=0;c<n.length;c++)o(n[c]);return o}({1:[function(e){function t(e){i.DEBUG&&console.log("Sent: "+("object"==typeof e?JSON.stringify(e):e)),h.send(e)}function r(e,t){var r=e.getContext("2d"),n=0;for(r.beginPath(),r.moveTo(t[0][0],t[0][1]),t.slice(1);n<t.length;n++)r.lineTo(t[n][0],t[n][1]);return r.closePath(),r}function n(e,t,r,n){var o=e.createLinearGradient(n[0],n[1],n[2],n[3]);o.addColorStop(0,t),o.addColorStop(1,r),e.fillStyle=o,e.fill()}function o(e,t,o,a){var c=r(e,[[t,o],[t+5,o+3.5],[t+5,a+3.5],[t,a]]);n(c,"#666","#000",[t,o,t+15,o])}function a(e,t,o,a){var c=r(e,[[o,t],[o+5,t+3.5],[a+5,t+3.5],[a,t]]);n(c,"#666","#000",[o,t,o,t+15])}function c(e,r,n){document.querySelector("#"+e).addEventListener(r,function(r){r.target&&r.target.parentNode===g&&g.classList.toggle(this.id),x[e]=n,t(x)})}function s(e,r){document.addEventListener(e,function(e){if(!u.fieldFocused(e)){switch(e.keyCode){case 38:if(r&&x.up)return;x.up=r,g.className=r?"up":"";break;case 39:if(r&&x.right)return;x.right=r,g.className=r?"right":"";break;case 40:if(r&&x.down)return;x.down=r,g.className=r?"down":"";break;case 37:if(r&&x.left)return;x.left=r,g.className=r?"left":"";break;case 13:if(r&&x.start)return;x.start=r,w.dataset.pressed=+r;break;case 65:if(r&&x.a)return;x.a=r,v.dataset.pressed=+r;break;case 66:if(r&&x.b)return;x.b=r,y.dataset.pressed=+r;break;default:if(!(e.shiftKey||!r&&x.select))return;x.select=r,m.dataset.pressed=+r}t(x)}})}var i=e("./settings"),u=e("./lib/utils"),d=u.error,l=u.trace,f=u.getPeerId(),p=new Peer("controller_"+f,{key:i.PEERJS_KEY,debug:i.DEBUG?3:0});window.addEventListener("beforeunload",function(){p.destroy()});var h=p.connect(f);h.on("open",function(){l("My peer ID: "+p.id),l("My connection ID: "+h.id),h.on("data",function(e){l("Received: "+e)}),h.on("error",function(e){d(e.message)}),t({status:"ready"})});var g=document.querySelector("#dpad"),m=document.querySelector("#select"),w=document.querySelector("#start"),y=document.querySelector("#b"),v=document.querySelector("#a"),E=document.getElementById("dpad-body");a(E,63.5,0,100),a(E,100,36.5,63.5),o(E,63.5,0,36.5),o(E,63.5,63.5,100),o(E,100,36.5,63.5);var b=r(E,[[0,36.5],[36.5,36.5],[36.5,0],[63.5,0],[63.5,36.5],[100,36.5],[100,63.5],[63.5,63.5],[63.5,100],[36.5,100],[36.5,63],[0,63.5]]);b.fillStyle="#1a1a1a",b.shadowColor="rgba(0,0,0,.6)",b.shadowBlur=15,b.shadowOffsetX=20,b.shadowOffsetY=10,b.fill();var x={up:!1,right:!1,down:!1,left:!1,select:!1,start:!1,b:!1,a:!1};Object.keys(x).forEach(function(e){u.hasTouchEvents()?(c(e,"touchstart",!0),c(e,"touchend",!1)):(c(e,"mousedown",!0),c(e,"mouseup",!1))}),s("keydown",!0),s("keyup",!1)},{"./lib/utils":2,"./settings":3}],2:[function(e,t){function r(e,t){console[t||"log"]((window.performance.now()/1e3).toFixed(3)+": "+e)}function n(e){return r(e,"error")}function o(e){return r(e,"warn")}function a(){return window.location.pathname.indexOf(".html")?window.location.search.substr(1):window.location.pathname.substr(1)}function c(e){return-1!==d.indexOf(e.target.nodeName.toLowerCase())}function s(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function i(e){var t=document.createElement("link");t.href=e.href,t.media="all",t.rel="stylesheet",t.type="text/css",Object.keys(e||{}).forEach(function(r){t[r]=e[r]}),document.querySelector("head").appendChild(t)}function u(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;"):e}var d=["input","keygen","meter","option","output","progress","select","textarea"];t.exports.trace=r,t.exports.error=n,t.exports.warn=o,t.exports.getPeerId=a,t.exports.fieldFocused=c,t.exports.hasTouchEvents=s,t.exports.injectCSS=i,t.exports.escape=u},{}],3:[function(e,t){var r={};try{r=e("./settings_local.js")}catch(n){}var o={API_URL:"http://localhost:5000",DEBUG:!1,PEERJS_KEY:"",VERSION:"0.0.1"};for(var a in r)o[a]=r[a];t.exports=o},{"./settings_local.js":4}],4:[function(e,t){t.exports={DEBUG:!0,PEERJS_KEY:"rovu5xmqo69wwmi"}},{}]},{},[1]);